
<%= render 'layouts/header' %> 


<%= form_with model: @post, local: true do |f| %>

<div class="new-box">
  <h1>災害情報の入力</h1>
  <div class="img-upload">
      <%# 画像の投稿 %>
    <div class="image">
      <div class="form-image"> 
      <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" fill=#1e90ff  class="bi bi-camera-fill" viewBox="0 0 16 16">
        <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
        <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
        
      </svg><br>
        <span class="file">画像を投稿</span><br>
        <%= f.file_field :images, id:"image", multiple: true, class:"hidden", onchange: "loadImage(this);" %>
         <div id="images" style="display: none;">
          <p id="preview" style="width:50px;"></p>
         </div>
         
         <%= render "loadimage" %>

     </div>
   </div>

    </div><br>

      <%# 動画の投稿 %>
    <div class="video">
      <label class="form-video">
      <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" fill=#1e90ff class="bi bi-camera-reels-fill" viewBox="0 0 16 16">
          <path d="M6 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          <path d="M9 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
          <path d="M9 6h.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h7z"/>
        </svg><br>
        <span class="file">動画を投稿</span><br>
        <%= f.file_field :video, class:"hidden" %><br>
      </label>
    </div><br>
  </div>

  <h2>※災害の詳細情報を入力してください</h2>

  <table>
    <tr>
      <%# 地域１のプルダウン %>
          <th><span class="posts">区・市</span></th>
          <td><%= f.collection_select(:state_id, State.all, :id, :name, {}, {class:"tokyo-state-box"}) %></td><br>
    </tr>

    <tr>
      <%# 地域2のプルダウン %>
          <th><span class="posts">町丁・番地</span></th>
          <td><%= f.collection_select(:area_id, Area.all, :id, :name, {}, {class:"tokyo-area-box"}) %></td><br>
    </tr>

    <tr>
      <%# 目標 %>
          <th><span class="posts">目標・目印の建物</span></th>
          <td><%= f.text_field :mark ,class:"mark_box"%><br>
    </tr>

    <tr>
      <%# ケガ人のプルダウン %>
          <th><span class="posts">ケガ人の有無</span></th>
          <td><%= f.collection_select(:escape_id, Escape.all, :id, :name, {}, {class:"select-box"}) %></td><br>
    </tr>

    <tr>
      <%# 逃げ遅れのプルダウン %>
          <th><span class="posts">逃げ遅れの有無</span></th>
          <td><%= f.collection_select(:help_id, Help.all, :id, :name, {}, {class:"select-box"}) %></td><br>
    </tr>
        
    <tr>
      <%# 要請の有無のプルダウン %>
          <th><span class="posts">消防隊の要請の有無</span></th>
          <td><%= f.collection_select(:injury_id, Injury.all, :id, :name, {}, {class:"select-box"}) %></td><br>
    </tr>
      
    <tr>
      <%# 具体的内容 %>
          <th><span class="posts">具体的な状況</span></th>
    <tr>
  </table>

  <div class="contents-box">
      <%= f.text_area :content ,class:"content_box" %>
  </div>
  
    <%# 送信ボタン %>
    <div class="blue-btn">
      <%= f.submit "投稿する", class:"post-btn"%>
    </div>

  <% end %>
</div>

  <%= render 'layouts/footer' %>